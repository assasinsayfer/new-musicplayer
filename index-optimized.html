<!DOCTYPE html>
<html lang="uz">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Menda Music Player - Optimized</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="container">
        <header class="player-header">
            <h1>üéµ Menda Music Player</h1>
            <p>Sizning shaxsiy musiqa kutubxonangiz</p>
        </header>

        <div class="upload-section">
            <input type="file" id="audioFileInput" multiple accept="audio/*" style="display: none;">
            <button onclick="document.getElementById('audioFileInput').click()" class="upload-btn">
                üìÅ Musiqa qo'shish
            </button>
        </div>

        <div class="player-controls">
            <button id="prevBtn" class="control-btn">‚èÆÔ∏è</button>
            <button id="playBtn" class="control-btn play-btn">‚ñ∂Ô∏è</button>
            <button id="nextBtn" class="control-btn">‚è≠Ô∏è</button>
        </div>

        <div class="current-song">
            <span id="currentSong">Musiqa tanlanmagan</span>
        </div>

        <div class="playlist-section">
            <h3>Playlist</h3>
            <div id="playlist" class="playlist-container">
                <!-- Playlist items bu yerda render bo'ladi -->
            </div>
        </div>

        <div class="storage-info">
            <button onclick="showStorageInfo()" class="info-btn">üíæ Xotira ma'lumoti</button>
        </div>
    </div>

    <script src="js/storage-manager.js"></script>
    <script src="js/music-player.js"></script>
    
    <script>
        // Xotira ma'lumotini ko'rsatish
        async function showStorageInfo() {
            if ('storage' in navigator && 'estimate' in navigator.storage) {
                const estimate = await navigator.storage.estimate();
                const used = (estimate.usage / 1024 / 1024).toFixed(2);
                const quota = (estimate.quota / 1024 / 1024).toFixed(2);
                
                alert(`Ishlatilgan: ${used} MB\nUmumiy: ${quota} MB`);
            } else {
                alert('Xotira ma\'lumoti mavjud emas');
            }
        }
    </script>
</body>
</html>
